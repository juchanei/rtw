# 22 : 데이터 멤버가 선언될 곳은 private 영역임을 명심하자

---
## 문제인식
내 라이브러리에 한 클래스를 만들었고, 해당 클래스의 멤버가 public으로 노출되어있다고 합시다.

```
class AAA {
public:
  int value;
}
```

지금은 값 접근 외에는 별다른 기능이 없어 public으로 노출시켰지만, 나중에 필요에 따라 값을 제한할 필요가 생겼다면 코드를 변경해야만 합니다.

```
class AAA {
public:
  int getValue() {
    if (0 < value) return value;
    return -value;
  }
private:
  int value;
}
```

해당 클래스의 인터페이스가 변했습니다.
따라서 사용자의 코드 중 이 라이브러리의 이 클래스를 사용하는 코드는 모조리 다시 작성되어야 합니다.

## 문제해결
public으로 공개 된 멤버가 있고 이후 변경을 피할 수 업는 경우, 해당 멤버에 접근하는 엄청난 양의 코드를 다시 작성하고 다시 테스트하고 다시 컴파일해야만 합니다.
protected도 크게 다르지 않습니다.
해당 클래스를 상속한 모든 파생 클래스에서 동일한 문제가 발생하기 때문입니다.<br>

특정 멤버를 private로 두고 함수인터페이스 뒤에 숨기면 이점이 있습니다.

- 내부 구현 로직을 교체해도 인터페이스가 동일합니다.
- 멤버를 읽거나 쓸 때 별도의 동작을 추가하는 융통성을 발휘할 수 있습니다.
- 문법적으로 일관적인 데이터 접근 인터페이스를 제공할 수 있습니다.

---
## 정리
- private로 선언 된 멤버는...
  - 내부 구현 로직을 교체해도 인터페이스가 동일합니다.
  - 멤버를 읽거나 쓸 때 별도의 동작을 추가하는 융통성을 발휘할 수 있습니다.
  - 문법적으로 일관적인 데이터 접근 인터페이스를 제공할 수 있습니다.
- protected는 public 보다 더 많이 '보호'받고 있는 것이 절대 아닙니다.
